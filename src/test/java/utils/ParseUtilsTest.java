package utils;

import exceptions.ParameterIsNotJsonStringExceptio;
import org.junit.jupiter.api.Test;

import java.io.IOException;

import static org.junit.jupiter.api.Assertions.*;

class ParseUtilsTest {

    @Test
    void parseUrlToJsonString_ANormalWord( ) throws IOException {
        String keyword="Letter";
        assertEquals("{\"continue\":{\"rvcontinue\":\"20180222001327|826963105\",\"continue\":\"||\"},\"query\":{\"pages\":{\"995678\":{\"pageid\":995678,\"ns\":0,\"title\":\"Letter\",\"revisions\":[{\"user\":\"Bkonrad\",\"timestamp\":\"2019-12-06T21:47:19Z\"},{\"user\":\"67.71.23.109\",\"anon\":\"\",\"timestamp\":\"2019-12-06T19:19:55Z\"},{\"user\":\"67.71.23.109\",\"anon\":\"\",\"timestamp\":\"2019-12-06T19:18:33Z\"},{\"user\":\"67.71.23.109\",\"anon\":\"\",\"timestamp\":\"2019-12-06T19:17:56Z\"},{\"user\":\"Donald Albury\",\"timestamp\":\"2019-12-05T17:26:54Z\"},{\"user\":\"67.71.23.109\",\"anon\":\"\",\"timestamp\":\"2019-12-05T16:58:29Z\"},{\"user\":\"67.71.23.109\",\"anon\":\"\",\"timestamp\":\"2019-12-05T16:26:17Z\"},{\"user\":\"67.71.23.109\",\"anon\":\"\",\"timestamp\":\"2019-12-05T16:25:36Z\"},{\"user\":\"DadaNeem\",\"timestamp\":\"2019-07-10T22:33:23Z\"},{\"user\":\"Bkonrad\",\"timestamp\":\"2019-03-27T22:45:44Z\"},{\"user\":\"2601:1C2:1780:A0D:981F:9B57:1A08:D386\",\"anon\":\"\",\"timestamp\":\"2019-03-27T03:21:31Z\"},{\"user\":\"CASSIOPEIA\",\"timestamp\":\"2019-02-12T10:07:46Z\"},{\"user\":\"145.255.246.82\",\"anon\":\"\",\"timestamp\":\"2019-02-12T10:06:49Z\"},{\"user\":\"CASSIOPEIA\",\"timestamp\":\"2019-02-12T10:06:44Z\"},{\"user\":\"145.255.246.82\",\"anon\":\"\",\"timestamp\":\"2019-02-12T10:06:08Z\"},{\"user\":\"145.255.246.82\",\"anon\":\"\",\"timestamp\":\"2019-02-12T10:05:17Z\"},{\"user\":\"ClueBot NG\",\"timestamp\":\"2019-02-12T10:04:41Z\"},{\"user\":\"145.255.246.82\",\"anon\":\"\",\"timestamp\":\"2019-02-12T10:04:38Z\"},{\"user\":\"Tassedethe\",\"timestamp\":\"2019-01-27T20:44:21Z\"},{\"user\":\"24.242.135.174\",\"anon\":\"\",\"timestamp\":\"2019-01-27T19:24:37Z\"},{\"user\":\"Pkbwcgs\",\"timestamp\":\"2018-12-25T11:04:59Z\"},{\"user\":\"174.254.130.227\",\"anon\":\"\",\"timestamp\":\"2018-12-25T11:04:25Z\"},{\"user\":\"Mean as custard\",\"timestamp\":\"2018-08-10T11:08:06Z\"},{\"user\":\"Joby.CC\",\"timestamp\":\"2018-08-10T10:38:47Z\"},{\"user\":\"Joby.CC\",\"timestamp\":\"2018-08-10T10:38:01Z\"},{\"user\":\"Oshwah\",\"timestamp\":\"2018-03-11T10:22:54Z\"},{\"user\":\"139.228.234.7\",\"anon\":\"\",\"timestamp\":\"2018-03-11T10:19:45Z\"},{\"user\":\"ClueBot NG\",\"timestamp\":\"2018-03-11T10:17:26Z\"},{\"user\":\"139.228.234.7\",\"anon\":\"\",\"timestamp\":\"2018-03-11T10:17:24Z\"},{\"user\":\"209.52.88.170\",\"anon\":\"\",\"timestamp\":\"2018-03-04T00:41:29Z\"}]}}}}",
                ParseUtils.parseUrlToJsonString(keyword));
    }

    @Test
    void parseUrlToJsonString_AnExtremelyLongWord( ) throws IOException {
        String keyword="Indianapolis";
        assertEquals("{\"continue\":{\"rvcontinue\":\"20191211001254|930215563\",\"continue\":\"||\"},\"query\":{\"pages\":{\"57707\":{\"pageid\":57707,\"ns\":0,\"title\":\"Indianapolis\",\"revisions\":[{\"user\":\"Koavf\",\"timestamp\":\"2020-02-11T18:46:43Z\"},{\"user\":\"Jhubartt\",\"timestamp\":\"2020-02-11T18:43:46Z\"},{\"user\":\"Koavf\",\"timestamp\":\"2020-02-10T08:36:24Z\"},{\"user\":\"Koavf\",\"timestamp\":\"2020-02-10T08:35:25Z\"},{\"user\":\"Indyguy\",\"timestamp\":\"2020-02-08T19:07:24Z\"},{\"user\":\"Accoloot\",\"timestamp\":\"2020-02-08T18:43:04Z\"},{\"user\":\"Pdcook\",\"timestamp\":\"2020-01-28T20:30:39Z\"},{\"user\":\"2001:18E8:3:28B6:F000:0:0:29E5\",\"anon\":\"\",\"timestamp\":\"2020-01-28T20:30:00Z\"},{\"user\":\"InternetArchiveBot\",\"timestamp\":\"2020-01-23T03:36:00Z\"},{\"user\":\"41.114.109.178\",\"anon\":\"\",\"timestamp\":\"2020-01-16T23:01:07Z\"},{\"user\":\"Cerebral726\",\"timestamp\":\"2020-01-16T16:05:37Z\"},{\"user\":\"2001:18E8:3:10B0:F000:0:0:3AD\",\"anon\":\"\",\"timestamp\":\"2020-01-16T15:52:02Z\"},{\"user\":\"Indyguy\",\"timestamp\":\"2020-01-10T18:47:18Z\"},{\"user\":\"2001:18E8:3:121D:F000:0:0:2DD\",\"anon\":\"\",\"timestamp\":\"2020-01-10T17:14:14Z\"},{\"user\":\"192.169.76.247\",\"anon\":\"\",\"timestamp\":\"2020-01-10T16:25:35Z\"},{\"user\":\"888888jdog\",\"timestamp\":\"2020-01-08T00:42:57Z\"},{\"user\":\"John from Idegon\",\"timestamp\":\"2020-01-02T03:37:17Z\"},{\"user\":\"Haileyreed\",\"timestamp\":\"2020-01-02T03:33:42Z\"},{\"user\":\"General Ization\",\"timestamp\":\"2020-01-02T03:24:41Z\"},{\"user\":\"Haileyreed\",\"timestamp\":\"2020-01-02T03:24:13Z\"},{\"user\":\"2603:900A:110C:6B00:C942:8BF6:E1E9:C7FA\",\"anon\":\"\",\"timestamp\":\"2020-01-02T02:48:30Z\"},{\"user\":\"Rodw\",\"timestamp\":\"2020-01-01T20:32:26Z\"},{\"user\":\"2605:A000:161E:8285:D122:890F:C00A:69C6\",\"anon\":\"\",\"timestamp\":\"2019-12-25T14:48:30Z\"},{\"user\":\"2605:A000:161E:8285:D122:890F:C00A:69C6\",\"anon\":\"\",\"timestamp\":\"2019-12-25T14:39:59Z\"},{\"user\":\"2603:900A:1905:F300:7CE6:3D62:FC3E:96A1\",\"anon\":\"\",\"timestamp\":\"2019-12-23T05:45:23Z\"},{\"user\":\"75.163.25.48\",\"anon\":\"\",\"timestamp\":\"2019-12-17T06:50:51Z\"},{\"user\":\"75.163.25.48\",\"anon\":\"\",\"timestamp\":\"2019-12-17T06:49:50Z\"},{\"user\":\"2603:900A:1905:F300:C822:F989:1202:D8B9\",\"anon\":\"\",\"timestamp\":\"2019-12-16T00:31:19Z\"},{\"user\":\"104.137.193.214\",\"anon\":\"\",\"timestamp\":\"2019-12-11T14:33:49Z\"},{\"user\":\"Indyguy\",\"timestamp\":\"2019-12-11T01:30:45Z\"}]}}}}",
                ParseUtils.parseUrlToJsonString(keyword));
    }

    @Test
    void parseUrlToJsonString_AVeryShortWord( ) throws IOException{
        String keyword="The";
        assertEquals("{\"continue\":{\"rvcontinue\":\"20191225015149|932326536\",\"continue\":\"||\"},\"query\":{\"pages\":{\"48578\":{\"pageid\":48578,\"ns\":0,\"title\":\"The\",\"revisions\":[{\"user\":\"ClueBot NG\",\"timestamp\":\"2020-02-25T02:57:55Z\"},{\"user\":\"Goodaylad\",\"timestamp\":\"2020-02-25T02:57:52Z\"},{\"user\":\"Tymon.r\",\"timestamp\":\"2020-02-18T14:36:22Z\"},{\"user\":\"86.12.242.100\",\"anon\":\"\",\"timestamp\":\"2020-02-18T14:35:49Z\"},{\"user\":\"Bongwarrior\",\"timestamp\":\"2020-02-15T09:31:27Z\"},{\"user\":\"2A02:8388:2640:AF80:8C40:518F:D850:51D0\",\"anon\":\"\",\"timestamp\":\"2020-02-15T09:27:14Z\"},{\"user\":\"Materialscientist\",\"timestamp\":\"2020-02-13T08:06:20Z\"},{\"user\":\"I like potatoes173\",\"timestamp\":\"2020-02-13T03:02:40Z\"},{\"user\":\"Tymon.r\",\"timestamp\":\"2020-02-08T01:21:04Z\"},{\"user\":\"70.188.202.169\",\"anon\":\"\",\"timestamp\":\"2020-02-08T01:20:52Z\"},{\"user\":\"AarnKrry\",\"timestamp\":\"2020-01-24T22:50:09Z\"},{\"user\":\"2600:6C51:6380:2292:88FD:7AF4:B7DA:D4E0\",\"anon\":\"\",\"timestamp\":\"2020-01-24T02:29:23Z\"},{\"user\":\"2600:6C51:6380:2292:88FD:7AF4:B7DA:D4E0\",\"anon\":\"\",\"timestamp\":\"2020-01-24T02:25:39Z\"},{\"user\":\"Widr\",\"timestamp\":\"2020-01-21T15:42:12Z\"},{\"user\":\"TheChildOfl1\",\"timestamp\":\"2020-01-21T15:31:22Z\"},{\"user\":\"KylieTastic\",\"timestamp\":\"2020-01-19T18:12:01Z\"},{\"user\":\"The eater of words\",\"timestamp\":\"2020-01-19T18:11:22Z\"},{\"user\":\"Serols\",\"timestamp\":\"2020-01-19T18:09:41Z\"},{\"user\":\"The eater of words\",\"timestamp\":\"2020-01-19T18:09:25Z\"},{\"user\":\"The eater of words\",\"timestamp\":\"2020-01-19T18:09:06Z\"},{\"user\":\"The eater of words\",\"timestamp\":\"2020-01-19T18:08:43Z\"},{\"user\":\"The eater of words\",\"timestamp\":\"2020-01-19T18:08:19Z\"},{\"user\":\"Neil S Walker\",\"timestamp\":\"2020-01-09T14:42:56Z\"},{\"user\":\"37.26.149.130\",\"anon\":\"\",\"timestamp\":\"2020-01-08T13:34:24Z\"},{\"user\":\"CLCStudent\",\"timestamp\":\"2019-12-29T17:27:13Z\"},{\"user\":\"2600:1014:B105:5773:0:26:8719:1301\",\"anon\":\"\",\"timestamp\":\"2019-12-29T17:26:59Z\"},{\"user\":\"Quenhitran\",\"timestamp\":\"2019-12-25T02:58:51Z\"},{\"user\":\"2604:2D80:8C95:7200:E5FA:3C98:BAEE:93C7\",\"anon\":\"\",\"timestamp\":\"2019-12-25T02:58:33Z\"},{\"user\":\"ClueBot NG\",\"timestamp\":\"2019-12-25T01:55:46Z\"},{\"user\":\"2604:2D80:8C95:7200:E5FA:3C98:BAEE:93C7\",\"anon\":\"\",\"timestamp\":\"2019-12-25T01:55:44Z\"}]}}}}",
                ParseUtils.parseUrlToJsonString(keyword));
    }

    @Test
    void parseUrlToJsonString_OneletterWord( ) throws IOException{
        String keyword="A";
        assertEquals("{\"continue\":{\"rvcontinue\":\"20190719202553|907008348\",\"continue\":\"||\"},\"query\":{\"pages\":{\"290\":{\"pageid\":290,\"ns\":0,\"title\":\"A\",\"revisions\":[{\"user\":\"Pppery\",\"timestamp\":\"2020-02-16T14:56:45Z\"},{\"user\":\"Finnigami\",\"timestamp\":\"2020-02-14T00:24:37Z\"},{\"user\":\"Finnigami\",\"timestamp\":\"2020-02-14T00:23:59Z\"},{\"user\":\"Finnigami\",\"timestamp\":\"2020-02-14T00:23:35Z\"},{\"user\":\"InternetArchiveBot\",\"timestamp\":\"2019-12-18T23:03:53Z\"},{\"user\":\"Natyoto\",\"timestamp\":\"2019-11-20T10:55:06Z\"},{\"user\":\"Natyoto\",\"timestamp\":\"2019-11-20T10:54:50Z\"},{\"user\":\"Kwamikagami\",\"timestamp\":\"2019-11-14T00:44:05Z\"},{\"user\":\"Kwamikagami\",\"timestamp\":\"2019-11-14T00:19:04Z\"},{\"user\":\"Kwamikagami\",\"timestamp\":\"2019-11-14T00:03:39Z\"},{\"user\":\"Kwamikagami\",\"timestamp\":\"2019-11-14T00:03:01Z\"},{\"user\":\"Kwamikagami\",\"timestamp\":\"2019-11-13T19:41:25Z\"},{\"user\":\"Kwamikagami\",\"timestamp\":\"2019-11-13T19:20:21Z\"},{\"user\":\"Kwamikagami\",\"timestamp\":\"2019-11-13T19:18:10Z\"},{\"user\":\"JalenFolf\",\"timestamp\":\"2019-11-11T18:22:44Z\"},{\"user\":\"Abdi maxamed\",\"timestamp\":\"2019-11-11T18:07:59Z\"},{\"user\":\"Abdi maxamed\",\"timestamp\":\"2019-11-11T18:06:21Z\"},{\"user\":\"Mx. Granger\",\"timestamp\":\"2019-10-29T05:41:23Z\"},{\"user\":\"BQUB19 FNavarro\",\"timestamp\":\"2019-10-27T17:02:58Z\"},{\"user\":\"Kclibrarian\",\"timestamp\":\"2019-10-22T21:01:27Z\"},{\"user\":\"FIGHTERSOVIET wpedia\",\"timestamp\":\"2019-10-19T03:24:28Z\"},{\"user\":\"I Am A Me Not A You\",\"timestamp\":\"2019-10-17T07:22:19Z\"},{\"user\":\"FIGHTERSOVIET wpedia\",\"timestamp\":\"2019-10-08T04:42:06Z\"},{\"user\":\"FIGHTERSOVIET wpedia\",\"timestamp\":\"2019-10-08T04:41:35Z\"},{\"user\":\"Mx. Granger\",\"timestamp\":\"2019-09-25T23:59:55Z\"},{\"user\":\"DumbFriesNub\",\"timestamp\":\"2019-09-25T02:55:58Z\"},{\"user\":\"Monkbot\",\"timestamp\":\"2019-09-10T17:25:04Z\"},{\"user\":\"InternetArchiveBot\",\"timestamp\":\"2019-09-07T17:35:08Z\"},{\"user\":\"Llew Mawr\",\"timestamp\":\"2019-09-07T11:13:21Z\"},{\"user\":\"Masumrezarock100\",\"timestamp\":\"2019-08-11T21:34:40Z\"}]}}}}",
                ParseUtils.parseUrlToJsonString(keyword));
    }




}